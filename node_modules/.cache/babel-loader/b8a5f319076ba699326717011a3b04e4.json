{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/WEB/lxp/lxp-test/lxp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/WEB/lxp/lxp-test/lxp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/dev/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/WEB/lxp/lxp-test/lxp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{coursesApi}from'../Api/api';import img1 from'../Assets/Images/Mocks/img1.jpg';import img2 from'../Assets/Images/Mocks/img2.jpg';import{setIsFetching}from'./commonReducer';var SET_COURSES_DATA='SET_COURSES_DATA';var initialState={courses:[],page:1,take:20};var coursesReducer=function coursesReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_COURSES_DATA:{return _objectSpread(_objectSpread({},state),{},{courses:action.courses});}default:return state;}};export var setCoursesData=function setCoursesData(courses){return{type:SET_COURSES_DATA,courses:courses};};export var getCourses=function getCourses(organizationId,page,take){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var respnose;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setIsFetching(true));_context.prev=1;_context.next=4;return coursesApi.getCourses(organizationId,page,take);case 4:respnose=_context.sent;console.log(respnose);dispatch([setCoursesData(respnose.courses),setIsFetching(false)]);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch(setIsFetching(false));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export default coursesReducer;","map":{"version":3,"sources":["/home/dev/Рабочий стол/WEB/lxp/lxp-test/lxp/src/Redux/coursesReducer.js"],"names":["coursesApi","img1","img2","setIsFetching","SET_COURSES_DATA","initialState","courses","page","take","coursesReducer","state","action","type","setCoursesData","getCourses","organizationId","dispatch","respnose","console","log"],"mappings":"uoBAAA,OAASA,UAAT,KAA2B,YAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEA,GAAIC,CAAAA,YAAY,CAAG,CACfC,OAAO,CAAE,EADM,CAEfC,IAAI,CAAE,CAFS,CAGfC,IAAI,CAAE,EAHS,CAAnB,CAMA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBL,YAAyB,IAAXM,CAAAA,MAAW,2CACrD,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKR,CAAAA,gBAAL,CAAuB,CACnB,sCAAYM,KAAZ,MAAmBJ,OAAO,CAAEK,MAAM,CAACL,OAAnC,GACH,CACD,QACI,MAAOI,CAAAA,KAAP,CALR,CAOH,CARD,CAUA,MAAO,IAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACP,OAAD,QAAc,CACxCM,IAAI,CAAER,gBADkC,CAChBE,OAAO,CAAPA,OADgB,CAAd,EAAvB,CAIP,MAAO,IAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,cAAD,CAAiBR,IAAjB,CAAuBC,IAAvB,iGAAgC,iBAAOQ,QAAP,+HACtDA,QAAQ,CAACb,aAAa,CAAC,IAAD,CAAd,CAAR,CADsD,sCAG7BH,CAAAA,UAAU,CAACc,UAAX,CAAsBC,cAAtB,CAAsCR,IAAtC,CAA4CC,IAA5C,CAH6B,QAG9CS,QAH8C,eAIlDC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAD,QAAQ,CAAC,CAACH,cAAc,CAACI,QAAQ,CAACX,OAAV,CAAf,CAAmCH,aAAa,CAAC,KAAD,CAAhD,CAAD,CAAR,CALkD,+EAOlDa,QAAQ,CAACb,aAAa,CAAC,KAAD,CAAd,CAAR,CAPkD,oEAAhC,gEAAnB,CAWP,cAAeM,CAAAA,cAAf","sourcesContent":["import { coursesApi } from '../Api/api';\nimport img1 from '../Assets/Images/Mocks/img1.jpg';\nimport img2 from '../Assets/Images/Mocks/img2.jpg';\nimport { setIsFetching } from './commonReducer';\n\nconst SET_COURSES_DATA = 'SET_COURSES_DATA';\n\nlet initialState = {\n    courses: [],\n    page: 1,\n    take: 20\n}\n\nconst coursesReducer = (state = initialState, action) => {\n    switch(action.type){\n        case SET_COURSES_DATA: {\n            return { ...state, courses: action.courses }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const setCoursesData = (courses) => ({\n    type: SET_COURSES_DATA, courses\n});\n\nexport const getCourses = (organizationId, page, take) => async (dispatch) => {\n    dispatch(setIsFetching(true));\n    try{\n        let respnose = await coursesApi.getCourses(organizationId, page, take);\n        console.log(respnose);\n        dispatch([setCoursesData(respnose.courses), setIsFetching(false)]);\n    }catch(err){\n        dispatch(setIsFetching(false));\n    }\n}\n\nexport default coursesReducer;"]},"metadata":{},"sourceType":"module"}